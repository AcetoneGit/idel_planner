

<% @appointments.each do |appointment| %>
  <%= link_to appointment_path(appointment), class: "no-link-appearance" do %>

    <% if params[:display] == 'week' %>
      <div class="appointment" style="
        top: <%= ((appointment.start_date.hour - 6) * 60 + appointment.start_date.min) + 10 + (10.125*16) - 10 %>px; # Ajout de (7rem - 10px) pour décaler les rendez-vous de 7rem moins le padding de 10px (1rem=16px)
        height: <%= (appointment.end_date - appointment.start_date).to_i/60 %>px;
        left: <%= number_in_week(appointment.start_date) * 13 + 9 %>%;
        width: 13%;">
      </div>

    <% else %>

      <div class="appointment" style="
        top: <%= ((appointment.start_date.hour - 6) * 60 + appointment.start_date.min) + 10 + (10.125*16) - 10 %>px; # Ajout de (7rem - 10px) pour décaler les rendez-vous de 7rem moins le padding de 10px (1rem=16px)
        height: <%= (appointment.end_date - appointment.start_date).to_i/60 %>px;">
        <p class="time"><%= appointment.start_date.strftime("%H:%M") %> - <%= appointment.end_date.strftime("%H:%M") %></p>

        <div class="d-flex justify-items-center align-items-center">
          <p><strong><%= appointment.patient.first_name %> | </strong><%= appointment.reason %></p>
        </div>
      </div>

    <% end %>

  <% end %>
<% end %>
